- pipeline: test_pipeline
  name: Test pipeline
  refs:
  - refs/heads/main
  events:
  - type: PUSH
  fail_on_prepare_env_warning: true
  actions:
  - action: npm run build
    type: BUILD
    docker_image_name: library/node
    docker_image_tag: 22
    execute_commands:
    - "# yarn install"
    - npm install
    - npm run build
    shell: BASH
  - action: Send email
    type: EMAIL
    title: "$BUDDY_PIPELINE_NAME execution #$BUDDY_RUN_ID"
    content: It ran!
    recipients: klyanevv@gmail.com
  - action: Send email-1
    type: EMAIL
    trigger_time: ON_FAILURE
    title: "$BUDDY_PIPELINE_NAME execution #$BUDDY_RUN_ID"
    content: It didnt run
    recipients: klyanevv@gmail.com
